
# Good Practices With AE (AE2の運用ガイド)

## About
こちらはGTNH Wikiに掲載された[Good Practices With AE](https://gtnh.miraheze.org/wiki/Good_Practices_With_AE)の和訳です。  
2024/06/01付、意訳は多め、勝手な注釈がほとんどです。正しく翻訳するのは苦手、逐語訳とか大嫌い(やりたくない)のだ。  

GTNHのプロ達が認める、TPSに配慮された正しいプラクティスが揃っています。  


## 以下本文

---

## Good Practices With AE

以下はAEネットワークを構築する際、注意/重視するべきポイントのリストです。  


- レシピをエンコードする際は、レシピを整数倍してエンコードするべきです。  
  (例: 1x 鉄の粉 to 1x 鉄インゴット => 256x 鉄の粉 to 256x 鉄インゴット)  
  クエリの数を削減し、搬入出の負担を減らします。  
  雑に2の倍数を選ぶ他、最大公約数/最小公倍数から適切に選択すれば、不要な中間素材の在庫を削減できます。  


- 再利用可能なアイテムをレシピに含めるべきではありません。  
  (例: GregTechの工具を用いた作業台レシピ)  
  Assemblerでの代替レシピや、GigaGramFabで追加されるSingle-Use-Toolを採用するべきです。  


- 再帰ネットワークによるストレージ実装は避けてください。  
  (サブネットのインターフェースにストレージバスを貼り付けると、サブネットの中身を参照できる)  
  Super Soaryn Driveは筆頭です。搬入出の度に非常に多くの計算が発生し、負荷の原因となります。  
  しかし、こちらはサブネットの実装全てを否定するものではありません。  
  実装によっては、メインネットの搬入出を削減し、負荷軽減に貢献するでしょう。(鉱石処理など/後述)  


- Crafting Cardを用いる場合など、在庫管理を行う場合、クエリの発行数に配慮してください。  
  数秒ごとに自動クラフトを発行してアイテムを細かく補給...ではなく、バッチで大量に作り置きするべきです。  
  特段の理由がない限り、Level Maintainerでの在庫管理が好ましいでしょう。  
  複数のアイテムの面倒を観れる他、バッチでのクラフト発行を簡単に行えます。  


- 大量の搬入出が発生する箇所では、可能な限りサブネットを用いるべきです。  
  サブネットではデバイスの接続数が限られますから、サブネット内での搬入出のやり取りは高速です。完成品のみをメインに送り返すのが適切でしょう。  
  鉱石処理ラインを例とすると、Galena/Sphalerite等の例外を除き、鉱石や中間処理物はメインネットで使用することはありません。  
  鉱石をOreDict Storage Bus(鉱石辞書カード)で送り付け、宝石や粉のみを受け取るべきです。  


- ストレージバスをチェストなどに張り付けるより、AEのドライブを採用するべきです。  
  AEドライブ内のアイテムはハッシュ計算が事前に行われています。NBTの付いたアイテムでは顕著な差が現れます。  
  例外として、GTNH環境のSuper Chest/Quantum TankなどはAE向けに最適化されています。Storage Busを使用しても問題ありません。  


- 長距離のMEケーブルを敷くより、ネットワークを無線で飛ばすべきです。  


- ディメンション間でのAE無線接続を行わない場合は、Quantum Network BridgeではなくWireless Connector (AE2Stuff)を使用するべきです。  
  注意: Wireless Connectorでの長距離での無線接続は、Quantum Network Bridge以上に電力を消費します。  
  発電に余裕がある場合、またはCreative (Neutronium) Energy Cellの入手以後に実現可能です。  


- 32チャンネル以上を無線で飛ばしたい場合は、ME P2Pを併用するべきです。  


- Storage Drawers Controllerに対して、Storage Busを貼り付けないでください。負荷の原因となります。  
  AEの搬入出の度に、接続されたドロワー全てに対して探索を行います。ドロワーの接続数が増えれば、比例して計算量も増加します。  
  そもそもドロワーを使用しないでください。オーバーフロー対策がしたいなら、Void ME Storage Cellで十分です。  


- ストレージのデフラグを行いましょう!!  
  (デブラグとは: HDDなどストレージの各所に1つのデータが分割して配置され、I/O性能の低下を引き起こす現象をフラグメンテーション(断片化)と呼ぶ。デフラグはデータを再配置して整理整頓を行い、フラグメンテーションを解消する操作。)  
  AE2でもフラグメンテーションの悪影響は発生し、ゲームプレイ的には種類数ペナルティによる格納量の低下、TPS面でも検索負荷が掛かります。  
  デフラグ操作には、ME IO Portの使用が最適でしょう。ME倉庫からアイテムを吸い出して、手持ちのセルに格納します。  
  ストレージセルのフィルター設定 / ME倉庫のPriority設定を尊重する(低優先度から優先して吸い出し)ので、期待通りの働きをするはずです。  


- クォーツファイバーでの電力の受け渡しは推奨されません。  
  電力をネットワーク間で相互に送受信するため、アップデートが多く発生します。  
  理想的には、それぞれのネットワークが独自の電源を備えるべきです。  
  WikiではNeutronium Energy Cellを推奨しているけど、流石に理想論がすぎる...UIVくらいのプレイヤーはご参考に。  


- 副産物をレシピのエンコードに含めないでください。  

---

## あとがき
1/2くらい創作だわこれ。[原文を読もう。](https://gtnh.miraheze.org/wiki/Good_Practices_With_AE)  

---

## Links
- [Good Practices With AE - GTNH Wiki](https://gtnh.miraheze.org/wiki/Good_Practices_With_AE)
